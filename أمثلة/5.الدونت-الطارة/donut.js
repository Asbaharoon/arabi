/*****/ 
/*****/ 
/*****/ const { parse: __flatted__parse__ } = require("flatted");
/*****/ const { translate: __arabi__translate__, translateRequire: __arabi__translate__require__ } = require("@arabi/translate");
/*****/ 
/*****/ global.__arabi__modules__tmap__ = __flatted__parse__("[{\"هروب-الآنسي\":\"1\",\"حجم-النافذة\":\"2\"},[\"3\",\"4\"],[\"5\",\"6\"],\"ansi-escapes\",{\"اخفي_المؤشر\":\"7\",\"اعد_المؤشر_لموضعه\":\"8\",\"احفظ_موضع_المؤشر\":\"9\",\"اظهر_المؤشر\":\"10\"},\"window-size\",{\"احضر\":\"11\"},\"cursorHide\",\"cursorRestorePosition\",\"cursorSavePosition\",\"cursorShow\",[\"12\",null,\"13\"],\"get\",{\"returnMap\":\"14\"},{\"اتساع\":\"15\",\"ارتفاع\":\"16\"},\"width\",\"height\"]");
/*****/ 
/*****/ var استدعي = require;
/*****/ var رقم = __arabi__translate__(Number, __flatted__parse__("[{\"ليس_رقما\":\"1\"},\"isNaN\"]"), __flatted__parse__("[{}]"));
/*****/ var كائن = __arabi__translate__(Object, __flatted__parse__("[{\"عين\":\"1\",\"انشئ\":\"2\",\"أقياد\":\"3\",\"مفاتيح\":\"4\",\"قيم\":\"5\",\"من_الأقياد\":\"6\",\"عرف_خاصية\":\"7\",\"عرف_خصائص\":\"8\",\"احضر_موصف_خصايتي\":\"9\",\"احضر_موصفات_خصائصي\":\"10\",\"احضر_أسماء_خصائصي\":\"11\",\"احضر_رموز_خصائصي\":\"12\",\"احضر_النموذج\":\"13\",\"عين_النموذج\":\"14\",\"هل\":\"15\",\"هل_امتدادي\":\"16\",\"هل_مجمد\":\"17\",\"هل_مختوم\":\"18\",\"جمد\":\"19\",\"اختم\":\"20\",\"امنع_الامتدادات\":\"21\"},\"assign\",\"create\",\"entries\",\"keys\",\"values\",\"fromEntries\",\"defineProperty\",\"defineProperties\",\"getOwnPropertyDescriptor\",\"getOwnPropertyDescriptors\",\"getOwnPropertyNames\",\"getOwnPropertySymbols\",\"getPrototypeOf\",\"setPrototypeOf\",\"is\",\"isExtensible\",\"isFrozen\",\"isSealed\",\"freeze\",\"seal\",\"preventExtensions\"]"), null);
/*****/ var مصفوفة = __arabi__translate__(Array, __flatted__parse__("[{\"هل_مصفوفة\":\"1\",\"من\":\"2\"},\"isArray\",\"of\"]"), null);
/*****/ var دالة = Function;
/*****/ var رياضيات = __arabi__translate__(Math, __flatted__parse__("[{\"إيبسلون\":\"1\",\"صسع32\":\"2\",\"أسي_ط1\":\"3\",\"ضرب_ص\":\"4\",\"أرض\":\"5\",\"أس\":\"6\",\"أسي\":\"7\",\"إشارة\":\"8\",\"تقريب\":\"9\",\"جا\":\"10\",\"جتا\":\"11\",\"جتاع\":\"12\",\"جزر\":\"13\",\"جزر1_2\":\"14\",\"جزر2\":\"15\",\"حاع\":\"16\",\"سقف\":\"17\",\"صغرى\":\"18\",\"ط\":\"19\",\"ظا\":\"20\",\"ظاع\":\"21\",\"عشوائي\":\"22\",\"عطمى\":\"23\",\"لو\":\"24\",\"لو10\":\"25\",\"لو10هـ\":\"26\",\"لو1ب\":\"27\",\"لو2\":\"28\",\"لو2هـ\":\"29\",\"لوهـ10\":\"30\",\"لوهـ2\":\"31\",\"مطلق\":\"32\",\"هـ\":\"33\",\"وتر\":\"34\"},\"EPSILON\",\"clz32\",\"expm1\",\"imul\",\"floor\",\"pow\",\"exp\",\"sign\",\"round\",\"sin\",\"cos\",\"acos\",\"sqrt\",\"SQRT1_2\",\"SQRT2\",\"asin\",\"ceil\",\"min\",\"PI\",\"tan\",\"atan\",\"random\",\"max\",\"log\",\"log10\",\"LOG10E\",\"log1p\",\"log2\",\"LOG2E\",\"LN10\",\"LN2\",\"abs\",\"E\",\"hypot\"]"), __flatted__parse__("[{}]"));
/*****/ var لوحة = __arabi__translate__(console, __flatted__parse__("[{\"اطبع\":\"1\",\"خطأ\":\"2\",\"جدول\":\"3\",\"وقت\":\"4\",\"أوقف_الوقت\":\"5\"},\"log\",\"error\",\"table\",\"time\",\"timeEnd\"]"), __flatted__parse__("[{}]"));
/*****/ var رمز = __arabi__translate__(Symbol, __flatted__parse__("[{}]"), null);
/*****/ var خطأ = Error;
/*****/ var ضع_مؤقتا = setTimeout;
/*****/ var عملية = __arabi__translate__(process, __flatted__parse__("[{\"اخرج\":\"1\",\"المرة_القادمة\":\"2\",\"خارج\":\"3\"},\"exit\",\"nextTick\",[\"4\",\"5\"],\"stdout\",{\"اكتب\":\"6\",\"أعمدة\":\"7\",\"صفوف\":\"8\",\"احضر_حجم_النافذة\":\"9\",\"عندما\":\"10\"},\"write\",\"columns\",\"rows\",\"getWindowSize\",\"on\"]"), __flatted__parse__("[{}]"));
/*****/ var افعل_فوريا = setImmediate;
/*****/ var صادرات = exports;
/*****/ var وحدة = __arabi__translate__(module, __flatted__parse__("[{\"صادرات\":\"1\"},\"exports\"]"), __flatted__parse__("[{}]"));
/*****/ 
/*****/ (()=>{
/*****/   var __the__proto__ = Object.prototype;
/*****/   Object.defineProperty(__the__proto__, "منشئ", {get: function(){ return this.constructor },set: function(v){ return this.constructor = v },});
/*****/   Object.defineProperty(__the__proto__, "__نموذج__", {get: function(){ return this.__proto__ },set: function(v){ return this.__proto__ = v },});
/*****/   Object.defineProperty(__the__proto__, "يملك_خاصية", {get: function(){ return this.hasOwnProperty },set: function(v){ return this.hasOwnProperty = v },});
/*****/   Object.defineProperty(__the__proto__, "هل_نموذج_من", {get: function(){ return this.isPrototypeOf },set: function(v){ return this.isPrototypeOf = v },});
/*****/   Object.defineProperty(__the__proto__, "هل_الخاصية_قابلة_للحصر", {get: function(){ return this.propertyIsEnumerable },set: function(v){ return this.propertyIsEnumerable = v },});
/*****/   Object.defineProperty(__the__proto__, "لنص_محلي", {get: function(){ return this.toLocaleString },set: function(v){ return this.toLocaleString = v },});
/*****/   Object.defineProperty(__the__proto__, "لنص", {get: function(){ return this.toString },set: function(v){ return this.toString = v },});
/*****/   Object.defineProperty(__the__proto__, "قيمة", {get: function(){ return this.valueOf },set: function(v){ return this.valueOf = v },});
/*****/ })();
/*****/ 
/*****/ (()=>{
/*****/   var __the__proto__ = Array.prototype;
/*****/   Object.defineProperty(__the__proto__, "سلسل", {get: function(){ return this.concat },set: function(v){ return this.concat = v },});
/*****/   Object.defineProperty(__the__proto__, "نسخ_ضمني", {get: function(){ return this.copyWithin },set: function(v){ return this.copyWithin = v },});
/*****/   Object.defineProperty(__the__proto__, "أقياد", {get: function(){ return this.entries },set: function(v){ return this.entries = v },});
/*****/   Object.defineProperty(__the__proto__, "كل", {get: function(){ return this.every },set: function(v){ return this.every = v },});
/*****/   Object.defineProperty(__the__proto__, "املئ", {get: function(){ return this.fill },set: function(v){ return this.fill = v },});
/*****/   Object.defineProperty(__the__proto__, "رشح", {get: function(){ return this.filter },set: function(v){ return this.filter = v },});
/*****/   Object.defineProperty(__the__proto__, "جد", {get: function(){ return this.find },set: function(v){ return this.find = v },});
/*****/   Object.defineProperty(__the__proto__, "جد_مؤشر", {get: function(){ return this.findIndex },set: function(v){ return this.findIndex = v },});
/*****/   Object.defineProperty(__the__proto__, "سطح", {get: function(){ return this.flat },set: function(v){ return this.flat = v },});
/*****/   Object.defineProperty(__the__proto__, "تخريط_مسطح", {get: function(){ return this.flatMap },set: function(v){ return this.flatMap = v },});
/*****/   Object.defineProperty(__the__proto__, "لكل", {get: function(){ return this.forEach },set: function(v){ return this.forEach = v },});
/*****/   Object.defineProperty(__the__proto__, "تتضمن", {get: function(){ return this.includes },set: function(v){ return this.includes = v },});
/*****/   Object.defineProperty(__the__proto__, "مؤشر", {get: function(){ return this.indexOf },set: function(v){ return this.indexOf = v },});
/*****/   Object.defineProperty(__the__proto__, "ادمج", {get: function(){ return this.join },set: function(v){ return this.join = v },});
/*****/   Object.defineProperty(__the__proto__, "مفاتيح", {get: function(){ return this.keys },set: function(v){ return this.keys = v },});
/*****/   Object.defineProperty(__the__proto__, "آخر_مؤشر", {get: function(){ return this.lastIndexOf },set: function(v){ return this.lastIndexOf = v },});
/*****/   Object.defineProperty(__the__proto__, "طول", {get: function(){ return this.length },set: function(v){ return this.length = v },});
/*****/   Object.defineProperty(__the__proto__, "خرط", {get: function(){ return this.map },set: function(v){ return this.map = v },});
/*****/   Object.defineProperty(__the__proto__, "ازل", {get: function(){ return this.pop },set: function(v){ return this.pop = v },});
/*****/   Object.defineProperty(__the__proto__, "ادفع", {get: function(){ return this.push },set: function(v){ return this.push = v },});
/*****/   Object.defineProperty(__the__proto__, "قلل", {get: function(){ return this.reduce },set: function(v){ return this.reduce = v },});
/*****/   Object.defineProperty(__the__proto__, "قلل_يمين", {get: function(){ return this.reduceRight },set: function(v){ return this.reduceRight = v },});
/*****/   Object.defineProperty(__the__proto__, "اعكس", {get: function(){ return this.reverse },set: function(v){ return this.reverse = v },});
/*****/   Object.defineProperty(__the__proto__, "ازح", {get: function(){ return this.shift },set: function(v){ return this.shift = v },});
/*****/   Object.defineProperty(__the__proto__, "شرح", {get: function(){ return this.slice },set: function(v){ return this.slice = v },});
/*****/   Object.defineProperty(__the__proto__, "بعض", {get: function(){ return this.some },set: function(v){ return this.some = v },});
/*****/   Object.defineProperty(__the__proto__, "رتب", {get: function(){ return this.sort },set: function(v){ return this.sort = v },});
/*****/   Object.defineProperty(__the__proto__, "احشر", {get: function(){ return this.splice },set: function(v){ return this.splice = v },});
/*****/   Object.defineProperty(__the__proto__, "لنص_محلي", {get: function(){ return this.toLocaleString },set: function(v){ return this.toLocaleString = v },});
/*****/   Object.defineProperty(__the__proto__, "للمصدر", {get: function(){ return this.toSource },set: function(v){ return this.toSource = v },});
/*****/   Object.defineProperty(__the__proto__, "لنص", {get: function(){ return this.toString },set: function(v){ return this.toString = v },});
/*****/   Object.defineProperty(__the__proto__, "قيم", {get: function(){ return this.values },set: function(v){ return this.values = v },});
/*****/ })();
/*****/ 
/*****/ (()=>{
/*****/   var __the__proto__ = Function.prototype;
/*****/   Object.defineProperty(__the__proto__, "اربط", {get: function(){ return this.bind },set: function(v){ return this.bind = v },});
/*****/   Object.defineProperty(__the__proto__, "استدعي", {get: function(){ return this.call },set: function(v){ return this.call = v },});
/*****/   Object.defineProperty(__the__proto__, "طبق", {get: function(){ return this.apply },set: function(v){ return this.apply = v },});
/*****/   Object.defineProperty(__the__proto__, "لنص", {get: function(){ return this.toString },set: function(v){ return this.toString = v },});
/*****/   Object.defineProperty(__the__proto__, "وسائط", {get: function(){ return this.arguments },set: function(v){ return this.arguments = v },});
/*****/   Object.defineProperty(__the__proto__, "مستدعي", {get: function(){ return this.caller },set: function(v){ return this.caller = v },});
/*****/   Object.defineProperty(__the__proto__, "اسم_ظاهر", {get: function(){ return this.displayName },set: function(v){ return this.displayName = v },});
/*****/   Object.defineProperty(__the__proto__, "طول", {get: function(){ return this.length },set: function(v){ return this.length = v },});
/*****/   Object.defineProperty(__the__proto__, "اسم", {get: function(){ return this.name },set: function(v){ return this.name = v },});
/*****/   Object.defineProperty(__the__proto__, "نموذج", {get: function(){ return this.prototype },set: function(v){ return this.prototype = v },});
/*****/ })();
/*****/ 
/*****/ (()=>{
/*****/   var __the__proto__ = Symbol.prototype;
/*****/ })();
/*****/ 
/*****/ 


// ############ -----------------------------------------
// ############ -----------------------------------------
// THE ORIGINAL TRANSLATED CODE -------------------------

const آنسي = __arabi__translate__require__(require("ansi-escapes"), "هروب-الآنسي");
const إزاحة_ثيتا = 0.07;
const إزاحة_فاي = 0.02;
const إزاحة_أ = 0.02;
const إزاحة_ب = 0.05;
const التأخر = 10;
const نق1 = 1;
const نق2 = 2;
const ك2 = 10;
const حروف_الإضاءة = ".,-~:;=!*#$@";
const اتساع_الشاشة = عملية.خارج.أعمدة;
const ارتفاع_الشاشة = عملية.خارج.صفوف;
const ك_س = اتساع_الشاشة * ك2 * 3 / (8 * (نق1 + نق2));
const ك_ص = ارتفاع_الشاشة * ك2 * 3 / (8 * (نق1 + نق2));

function تصيير_إطار(أ, ب) {
  const جتا_أ = رياضيات.جتا(أ),
        جا_أ = رياضيات.جا(أ);
  const جتا_ب = رياضيات.جتا(ب),
        جا_ب = رياضيات.جا(ب);
  const خارج = new مصفوفة(ارتفاع_الشاشة).املئ().خرط(() => new مصفوفة(اتساع_الشاشة).املئ(' '));
  const مخزن = new مصفوفة(ارتفاع_الشاشة).املئ().خرط(() => new مصفوفة(اتساع_الشاشة).املئ(0));
  for (let ثيتا = 0; ثيتا < 2 * رياضيات.ط; ثيتا += إزاحة_ثيتا) {
    let جا_ثيتا = رياضيات.جا(ثيتا),
        جتا_ثيتا = رياضيات.جتا(ثيتا);
    var س_الدائرة = نق2 + نق1 * جتا_ثيتا;
    var ص_الدائرة = نق1 * جا_ثيتا;
    for (let فاي = 0; فاي < 2 * رياضيات.ط; فاي += إزاحة_فاي) {
      var جا_فاي = رياضيات.جا(فاي),
          جتا_فاي = رياضيات.جتا(فاي);
      var س = س_الدائرة * (جتا_ب * جتا_فاي + جا_أ * جا_ب * جا_فاي) - ص_الدائرة * جتا_أ * جا_ب;
      var ص = س_الدائرة * (جا_ب * جتا_فاي - جا_أ * جتا_ب * جا_فاي) + ص_الدائرة * جتا_أ * جتا_ب;
      var ع = ك2 + جتا_أ * س_الدائرة * جا_فاي + ص_الدائرة * جا_أ;
      var مضع = 1 / ع;
      var إسقاط_س = ~~(اتساع_الشاشة / 2 + ك_س * مضع * س);
      var إسقاط_ص = ~~(ارتفاع_الشاشة / 2 - ك_ص * مضع * ص);
      var إضاءة = جتا_فاي * جتا_ثيتا * جا_ب - جتا_أ * جتا_ثيتا * جا_فاي - جا_أ * جا_ثيتا + جتا_ب * (جتا_أ * جا_ثيتا - جتا_ثيتا * جا_أ * جا_فاي);
      if (      إضاءة > 0) {
        if (        إسقاط_ص >= ارتفاع_الشاشة || إسقاط_ص < 0) { لوحة.اطبع(إسقاط_س, إسقاط_ص, اتساع_الشاشة, ارتفاع_الشاشة);  }
        else if (        مضع > مخزن[إسقاط_ص][إسقاط_س]) {
          مخزن[إسقاط_ص][إسقاط_س] = مضع;
          let دليل_الحرف = (إضاءة * 8) | 0;
          خارج[إسقاط_ص][إسقاط_س] = حروف_الإضاءة[دليل_الحرف];
        }
      }
    }
  }
  let الطارة = خارج.خرط((س) => س.ادمج("")).ادمج("\n");
  عملية.خارج.اكتب(الطارة);
  عملية.خارج.اكتب("\x1b[H");
  ضع_مؤقتا(() => تصيير_إطار(أ + إزاحة_أ, ب + إزاحة_ب), التأخر);
}

تصيير_إطار(رياضيات.ط / 3, رياضيات.ط / 3);
